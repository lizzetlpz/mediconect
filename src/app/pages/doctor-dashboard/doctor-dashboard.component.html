<!-- ============================================ -->
<!-- ARCHIVO: doctor-dashboard.component.html -->
<!-- ============================================ -->

<div class="dashboard-wrapper">
  <!-- Sidebar Component -->
  <appD/>

  <!-- Main Content -->
  <main class="main-content">
    <div class="dashboard-container">
      <!-- Header con Bot√≥n Editar Perfil -->
      <div class="dashboard-header-wrapper">
        <div class="dashboard-header">
          <h1>Panel de M√©dico, {{ currentUser?.nombre || 'Doctor' }} üë®‚Äç‚öïÔ∏è</h1>
          <p class="subtitle">{{ currentDate }}</p>
        </div>
        <button class="btn-editar-perfil" (click)="abrirEditarPerfil()" title="Editar perfil profesional">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
          </svg>
          Editar Perfil
        </button>
      </div>

      <!-- Stats Grid -->
      <div class="stats-grid">
        <div class="stat-card" *ngFor="let stat of statCards">
          <div class="stat-icon" [style.background-color]="stat.bgColor">
            <span>{{ stat.icon }}</span>
          </div>
          <div class="stat-content">
            <h3>{{ stat.value }}</h3>
            <p>{{ stat.title }}</p>
          </div>
        </div>
      </div>

      <!-- Main Grid -->
      <div class="dashboard-grid">
        <!-- Left Column -->
        <div class="left-column">
          <!-- Agenda Card -->
          <div class="card">
            <div class="card-header">
              <div class="header-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="16" y1="2" x2="16" y2="6"></line>
                  <line x1="8" y1="2" x2="8" y2="6"></line>
                  <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
              </div>
              <h2>Agenda del D√≠a</h2>
              <button class="btn-link" (click)="viewCompleteAgenda()">Ver Agenda Completa ‚Üí</button>
            </div>

            <div class="card-content">
              <div class="empty-state" *ngIf="todayAppointments.length === 0">
                <p class="empty-message-dark">No hay citas programadas para hoy.</p>
                <button class="view-agenda-btn" (click)="manageAgenda()">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  Gestionar Agenda
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Column -->
        <div class="right-column">
          <!-- Quick Actions Card -->
          <div class="card">
            <div class="card-header">
              <h2>Acciones R√°pidas</h2>
            </div>

            <div class="card-content">
              <div class="actions-list">
                <button
                  class="action-item"
                  *ngFor="let action of quickActions"
                  (click)="goTo(action.route)"
                >
                  <div class="action-icon" [style.background-color]="action.bgColor">
                    <span [style.color]="action.iconColor">{{ action.icon }}</span>
                  </div>
                  <div class="action-content">
                    <h3>{{ action.title }}</h3>
                    <p>{{ action.subtitle }}</p>
                  </div>
                  <svg class="action-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal Editar Perfil -->
  <app-editar-perfil-medico></app-editar-perfil-medico>
</div>
